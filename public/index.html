<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø¢Ø®Ø±ÛŒÙ† Ù¾Ø³Øªâ€ŒÙ‡Ø§ÛŒ Ø§Ø¨ÙˆØ§Ù„ÙØ¶Ù„ Ø´Ù‡Ø§Ø¨ | ivan.omgru | Ğ˜Ğ²Ğ°Ğ½ Ğ¾Ğ¼Ğ³Ñ€Ñƒ</title>
<meta name="description" content="Ø¢Ø®Ø±ÛŒÙ† Ù¾Ø³Øªâ€ŒÙ‡Ø§ÛŒ Ø§ÛŒÙ†Ø³ØªØ§Ú¯Ø±Ø§Ù… Ùˆ ÙˆÛŒØ¯ÛŒÙˆÙ‡Ø§ÛŒ ÛŒÙˆØªÛŒÙˆØ¨ Ø§Ø¨ÙˆØ§Ù„ÙØ¶Ù„ Ø´Ù‡Ø§Ø¨ | ivan.omgru | Ğ˜Ğ²Ğ°Ğ½ Ğ¾Ğ¼Ğ³Ñ€Ñƒ">
<meta name="keywords" content="ivan.omgru, Ğ˜Ğ²Ğ°Ğ½ Ğ¾Ğ¼Ğ³Ñ€Ñƒ, Ø§Ø¨ÙˆØ§Ù„ÙØ¶Ù„ Ø´Ù‡Ø§Ø¨, Ø¢Ù…ÙˆØ²Ø´ Ø¢Ù†Ù„Ø§ÛŒÙ†, ÙˆÛŒØ¯ÛŒÙˆ Ø¢Ù…ÙˆØ²Ø´ÛŒ, Instagram, YouTube">
<meta name="author" content="Ø§Ø¨ÙˆØ§Ù„ÙØ¶Ù„ Ø´Ù‡Ø§Ø¨ | ivan.omgru | Ğ˜Ğ²Ğ°Ğ½ Ğ¾Ğ¼Ğ³Ñ€Ñƒ">

<!-- Favicon -->
<link rel="icon" href="https://media.ivan.omgru.ir/images/logo.png" type="image/png">

<!-- Open Graph / Twitter Card -->
<meta property="og:title" content="Ø¢Ø®Ø±ÛŒÙ† Ù¾Ø³Øªâ€ŒÙ‡Ø§ÛŒ Ø§Ø¨ÙˆØ§Ù„ÙØ¶Ù„ Ø´Ù‡Ø§Ø¨ | ivan.omgru | Ğ˜Ğ²Ğ°Ğ½ Ğ¾Ğ¼Ğ³Ñ€Ñƒ">
<meta property="og:description" content="Ø¢Ø®Ø±ÛŒÙ† Ù¾Ø³Øªâ€ŒÙ‡Ø§ÛŒ Ø§ÛŒÙ†Ø³ØªØ§Ú¯Ø±Ø§Ù… Ùˆ ÙˆÛŒØ¯ÛŒÙˆÙ‡Ø§ÛŒ ÛŒÙˆØªÛŒÙˆØ¨ Ø§Ø¨ÙˆØ§Ù„ÙØ¶Ù„ Ø´Ù‡Ø§Ø¨ | ivan.omgru | Ğ˜Ğ²Ğ°Ğ½ Ğ¾Ğ¼Ğ³Ñ€Ñƒ">
<meta property="og:type" content="website">
<meta property="og:url" content="https://ivan.omgru.ir/">
<meta property="og:image" content="https://media.ivan.omgru.ir/images/profile.jpg">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Ø¢Ø®Ø±ÛŒÙ† Ù¾Ø³Øªâ€ŒÙ‡Ø§ÛŒ Ø§Ø¨ÙˆØ§Ù„ÙØ¶Ù„ Ø´Ù‡Ø§Ø¨ | ivan.omgru | Ğ˜Ğ²Ğ°Ğ½ Ğ¾Ğ¼Ğ³Ñ€Ñƒ">
<meta name="twitter:description" content="Ø¢Ø®Ø±ÛŒÙ† Ù¾Ø³Øªâ€ŒÙ‡Ø§ÛŒ Ø§ÛŒÙ†Ø³ØªØ§Ú¯Ø±Ø§Ù… Ùˆ ÙˆÛŒØ¯ÛŒÙˆÙ‡Ø§ÛŒ ÛŒÙˆØªÛŒÙˆØ¨ Ø§Ø¨ÙˆØ§Ù„ÙØ¶Ù„ Ø´Ù‡Ø§Ø¨ | ivan.omgru | Ğ˜Ğ²Ğ°Ğ½ Ğ¾Ğ¼Ğ³Ñ€Ñƒ">
<meta name="twitter:image" content="https://media.ivan.omgru.ir/images/profile.jpg">

<!-- Preload Fonts & CSS -->
<link rel="preload" href="https://fonts.googleapis.com/css2?family=Vazir&display=swap" as="style">
<!-- Swiper CSS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.css"/>
<!-- JSON-LD Ø¯Ùˆ Ø²Ø¨Ø§Ù†Ù‡ -->
<style>
/* =========================
   Ù¾Ø§ÛŒÙ‡ Ùˆ Ø±ÛŒØ³Øª
========================= */
* { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Vazir', sans-serif; }
body { color: #fff; line-height: 1.6; position: relative; z-index: 1; background: #000; overflow-x: hidden; }
a { text-decoration: none; color: inherit; }
img, video { display: block; max-width: 100%; height: auto; }

/* =========================
   Ù‡Ø¯Ø±
========================= */
header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: clamp(15px,2vw,30px);
  background: transparent;
  position: relative;
  flex-wrap: wrap;
  z-index: 2;
}
header h1 {
  font-size: clamp(1.5rem, 2vw + 1rem, 2.5rem);
  margin-bottom: 0.5em;
  text-shadow: 0 2px 6px rgba(0,0,0,0.7);
}
.lang-switch button {
  margin-left: 10px;
  padding: 6px 12px;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  background: #fff;
  color: #007bff;
  font-weight: bold;
  font-size: clamp(0.8rem,1vw+0.5rem,1rem);
  transition: background 0.3s, color 0.3s, transform 0.2s;
}
.lang-switch button:hover {
  background: #007bff;
  color: #fff;
  transform: scale(1.05);
}

/* =========================
   Ú©Ø§Ù†ØªÛŒÙ†Ø± Ùˆ Ø¹Ù†ÙˆØ§Ù† Ø¨Ø®Ø´â€ŒÙ‡Ø§
========================= */
.container {
  max-width: 1200px;
  margin: 50px auto;
  padding: 0 15px;
  position: relative;
  z-index: 2;
}
.section-title {
  margin-bottom: 25px;
  font-size: clamp(1.2rem,2vw+1rem,1.8rem);
  color: #00d4ff;
  text-align: center;
  text-shadow: 0 2px 6px rgba(0,0,0,0.7);
  transition: color 0.3s;
}

/* =========================
   Swiper Ø§Ø³Ù„Ø§ÛŒØ¯Ø±
========================= */
.swiper-slide {
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 5px 20px rgba(0,0,0,0.3);
  cursor: pointer;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  position: relative;
  will-change: transform;
}
.swiper-slide:hover {
  transform: scale(1.05);
  box-shadow: 0 12px 30px rgba(0,0,0,0.5);
}
.swiper-slide img {
  width: 100%;
  height: auto;
  object-fit: cover;
  transition: transform 0.3s ease;
}
.swiper-slide:hover img {
  transform: scale(1.05);
}
.swiper-slide .overlay-icon {
  position: absolute;
  top: 10px;
  right: 10px;
  font-size: 2rem;
  color: #fff;
  text-shadow: 0 2px 6px rgba(0,0,0,0.7);
}
.swiper-slide p {
  padding: 10px;
  font-size: clamp(0.8rem,1vw+0.5rem,1rem);
  color: #fff;
  text-shadow: 0 1px 4px rgba(0,0,0,0.7);
}

/* =========================
   Ú¯Ø±ÛŒØ¯ ÙˆØ§Ú©Ù†Ø´â€ŒÚ¯Ø±Ø§ Ø¨Ø±Ø§ÛŒ Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§
========================= */
.grid {
  display: grid;
  gap: 15px;
}
@media (min-width: 1400px) { .grid { grid-template-columns: repeat(5,1fr); } }
@media (min-width: 1200px) and (max-width: 1399px) { .grid { grid-template-columns: repeat(4,1fr); } }
@media (min-width: 768px) and (max-width: 1199px) { .grid { grid-template-columns: repeat(3,1fr); } }
@media (max-width: 767px) { .grid { grid-template-columns: repeat(2,1fr); } }

/* =========================
   Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§ÛŒ Ø±Ø³Ø§Ù†Ù‡
========================= */
.media-card {
  background: rgba(0,0,0,0.4);
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 5px 20px rgba(0,0,0,0.5);
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  position: relative;
  will-change: transform;
}
.media-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 12px 30px rgba(0,0,0,0.6);
}
.media-card img {
  width: 100%;
  aspect-ratio: 16/9;
  object-fit: cover;
  transition: transform 0.3s ease;
}
.media-card:hover img { transform: scale(1.05); }
.media-card p {
  padding: 15px;
  font-size: clamp(0.8rem,1vw+0.5rem,1rem);
  color: #fff;
  text-shadow: 0 1px 4px rgba(0,0,0,0.7);
}

/* =========================
   Ù…Ø¯ÛŒØ±ÛŒØª Ø²Ø¨Ø§Ù†â€ŒÙ‡Ø§
========================= */
.lang-fa { display: block; }
.lang-ru { display: none; }

/* =========================
   ÙÙˆØªØ±
========================= */
footer {
  text-align: center;
  margin: 50px 0;
  color: #ccc;
  font-size: clamp(0.7rem,1vw+0.3rem,0.95rem);
  position: relative;
  z-index: 2;
}

/* =========================
   ÙˆÛŒØ¯ÛŒÙˆ Ù¾Ø³â€ŒØ²Ù…ÛŒÙ†Ù‡
========================= */
.video-background {
  position: fixed;
  top: 0; left: 0;
  width: 100%;
  height: 100%;
  overflow: hidden;
  z-index: 0;
  background: #000;
}
.video-background video {
  width: 100%;
  height: 100%;
  object-fit: cover;
  position: absolute;
  top: 0; left: 0;
  z-index: 0;
  transition: filter 0.3s;
  filter: brightness(0.7);
}
.video-background .overlay {
  position: absolute;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: rgba(0,0,0,0.3);
  z-index: 1;
}

/* =========================
   ÙˆØ§Ú©Ù†Ø´â€ŒÚ¯Ø±Ø§ÛŒÛŒ Ù…ÙˆØ¨Ø§ÛŒÙ„ Ùˆ ØªØ¨Ù„Øª
========================= */
@media (max-width: 1024px) {
  header h1 { font-size: clamp(1.4rem,2vw+1rem,2rem); }
  .swiper-slide { min-width: 220px; }
  .media-card p { font-size: 0.85rem; }
}
@media (max-width: 768px) {
  header { flex-direction: column; align-items: center; text-align: center; }
  header h1 { font-size: clamp(1.2rem,2vw+1rem,1.8rem); }
  .lang-switch { margin-top: 10px; }
  .swiper-slide { min-width: 90%; margin: 0 auto; }
}
</style>
</head>
<body>

<div class="video-background">
  <video autoplay muted loop playsinline>
    <source src="media/background.mp4" type="video/mp4">
  </video>
  <div class="overlay"></div>
</div>

<header>
  <h1 class="lang-fa">Ø¢Ø®Ø±ÛŒÙ† Ù¾Ø³Øªâ€ŒÙ‡Ø§ Ùˆ ÙˆÛŒØ¯ÛŒÙˆÙ‡Ø§ÛŒ Ø§Ø¨ÙˆØ§Ù„ÙØ¶Ù„ Ø´Ù‡Ø§Ø¨ | ivan.omgru | Ğ˜Ğ²Ğ°Ğ½ Ğ¾Ğ¼Ğ³Ñ€Ñƒ</h1>
  <h1 class="lang-ru">ĞŸĞ¾ÑĞ»ĞµĞ´Ğ½Ğ¸Ğµ Ğ¿Ğ¾ÑÑ‚Ñ‹ Ğ² Instagram Ğ¸ Ğ²Ğ¸Ğ´ĞµĞ¾ Ğ½Ğ° YouTube ĞĞ±ÑƒĞ»ÑŒÑ„Ğ°Ğ·Ğ»Ñ Ğ¨Ğ°Ñ…Ğ°Ğ±Ğ° | ivan.omgru | Ğ˜Ğ²Ğ°Ğ½ Ğ¾Ğ¼Ğ³Ñ€Ñƒ</h1>
  <div class="lang-switch">
    <button onclick="setLanguage('fa')">ÙØ§Ø±Ø³ÛŒ</button>
    <button onclick="setLanguage('ru')">Ğ ÑƒÑÑĞºĞ¸Ğ¹</button>
  </div>
</header>

<div class="container">
  <h2 class="section-title lang-fa">Ø§Ø³Ù„Ø§ÛŒØ¯Ø± Ø§ÛŒÙ†Ø³ØªØ§Ú¯Ø±Ø§Ù… ivan.omgru / Ğ˜Ğ²Ğ°Ğ½ Ğ¾Ğ¼Ğ³Ñ€Ñƒ</h2>
  <h2 class="section-title lang-ru">Ğ¡Ğ»Ğ°Ğ¹Ğ´ĞµÑ€ Instagram ivan.omgru / Ğ˜Ğ²Ğ°Ğ½ Ğ¾Ğ¼Ğ³Ñ€Ñƒ</h2>
  <div class="swiper instagram-swiper">
    <div class="swiper-wrapper instagram-carousel"></div>
    <div class="swiper-button-next"></div>
    <div class="swiper-button-prev"></div>
  </div>

  <h2 class="section-title lang-fa">Ø§Ø³Ù„Ø§ÛŒØ¯Ø± ÙˆÛŒØ¯ÛŒÙˆÙ‡Ø§ÛŒ ÛŒÙˆØªÛŒÙˆØ¨ ivan.omgru / Ğ˜Ğ²Ğ°Ğ½ Ğ¾Ğ¼Ğ³Ñ€Ñƒ</h2>
  <h2 class="section-title lang-ru">Ğ¡Ğ»Ğ°Ğ¹Ğ´ĞµÑ€ Ğ²Ğ¸Ğ´ĞµĞ¾ YouTube ivan.omgru / Ğ˜Ğ²Ğ°Ğ½ Ğ¾Ğ¼Ğ³Ñ€Ñƒ</h2>
  <div class="swiper youtube-swiper">
    <div class="swiper-wrapper youtube-carousel"></div>
    <div class="swiper-button-next"></div>
    <div class="swiper-button-prev"></div>
  </div>

  <h2 class="section-title lang-fa">ØªÙ…Ø§Ù… Ù¾Ø³Øªâ€ŒÙ‡Ø§ Ùˆ ÙˆÛŒØ¯ÛŒÙˆÙ‡Ø§</h2>
  <h2 class="section-title lang-ru">Ğ’ÑĞµ Ğ¿Ğ¾ÑÑ‚Ñ‹ Ğ¸ Ğ²Ğ¸Ğ´ĞµĞ¾</h2>
  <div class="grid instagram-gallery youtube-gallery"></div>
</div>

<footer>
  <span class="lang-fa">Â© 2025 Ø§Ø¨ÙˆØ§Ù„ÙØ¶Ù„ Ø´Ù‡Ø§Ø¨ | ivan.omgru | Ğ˜Ğ²Ğ°Ğ½ Ğ¾Ğ¼Ğ³Ñ€Ñƒ</span>
  <span class="lang-ru">Â© 2025 ĞĞ±ÑƒĞ»ÑŒÑ„Ğ°Ğ·Ğ»ÑŒ Ğ¨Ğ°Ñ…Ğ°Ğ± | ivan.omgru | Ğ˜Ğ²Ğ°Ğ½ Ğ¾Ğ¼Ğ³Ñ€Ñƒ</span>
</footer>

<!-- Swiper JS -->
<script>
/* =========================
   Ù…Ø¯ÛŒØ±ÛŒØª Ø²Ø¨Ø§Ù† Ø¯Ùˆ Ø²Ø¨Ø§Ù†Ù‡ Ø¨Ø§ Ø§ÙÚ©Øª
========================= */
function setLanguage(lang) {
    document.querySelectorAll('.lang-fa').forEach(e => {
        e.style.transition = "opacity 0.3s";
        e.style.opacity = lang === 'fa' ? '1' : '0';
        setTimeout(() => e.style.display = lang === 'fa' ? 'block' : 'none', 300);
    });
    document.querySelectorAll('.lang-ru').forEach(e => {
        e.style.transition = "opacity 0.3s";
        e.style.opacity = lang === 'ru' ? '1' : '0';
        setTimeout(() => e.style.display = lang === 'ru' ? 'block' : 'none', 300);
    });
    localStorage.setItem('siteLanguage', lang);
}
document.addEventListener('DOMContentLoaded', () => {
    setLanguage(localStorage.getItem('siteLanguage') || 'fa');
});

/* =========================
   Ú©Ø´ Ø¨Ø§ Ø§Ù†Ù‚Ø¶Ø§
========================= */
function setCache(key, data, ttl = 86400000) {
    const record = { data, expires: Date.now() + ttl };
    localStorage.setItem(key, JSON.stringify(record));
}
function getCache(key) {
    const record = JSON.parse(localStorage.getItem(key) || "{}");
    if (!record || Date.now() > record.expires) return null;
    return record.data;
}

/* =========================
   Ø§ÛŒØ¬Ø§Ø¯ Swiper Ø¨Ø§ breakpoints
========================= */
function createSwiper(selector, breakpoints) {
    return new Swiper(selector, {
        slidesPerView: 1,
        spaceBetween: 15,
        loop: true,
        navigation: {
            nextEl: `${selector} .swiper-button-next`,
            prevEl: `${selector} .swiper-button-prev`
        },
        breakpoints,
        lazy: true
    });
}

const instaSwiper = createSwiper('.instagram-swiper', {
    768: { slidesPerView: 2 },
    1024: { slidesPerView: 3 },
    1200: { slidesPerView: 4 },
    1400: { slidesPerView: 5 }
});

const ytSwiper = createSwiper('.youtube-swiper', {
    768: { slidesPerView: 2 },
    1024: { slidesPerView: 3 },
    1200: { slidesPerView: 4 },
    1400: { slidesPerView: 5 }
});

/* =========================
   Ø§ÛŒØ¬Ø§Ø¯ Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§
========================= */
function createSlideCard(link, imgSrc, captionFa, captionRu, icon) {
    return `
    <div class="swiper-slide">
        <a href="${link}" target="_blank" rel="noopener noreferrer">
            <img data-src="${imgSrc}" alt="${captionFa}" class="lazy">
            <div class="overlay-icon">${icon}</div>
            <p class="lang-fa">${captionFa}</p>
            <p class="lang-ru">${captionRu}</p>
        </a>
    </div>`;
}

function createGridCard(link, imgSrc, captionFa, captionRu) {
    return `
    <div class="media-card">
        <a href="${link}" target="_blank" rel="noopener noreferrer">
            <img data-src="${imgSrc}" alt="${captionFa}" class="lazy">
            <p class="lang-fa">${captionFa}</p>
            <p class="lang-ru">${captionRu}</p>
        </a>
    </div>`;
}

/* =========================
   Lazy load ØªØµØ§ÙˆÛŒØ± Ùˆ ÙˆÛŒØ¯ÛŒÙˆÙ‡Ø§
========================= */
function lazyLoad(selector) {
    const imgs = document.querySelectorAll(selector);
    const observer = new IntersectionObserver((entries, obs) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                const img = entry.target;
                img.src = img.dataset.src;
                obs.unobserve(img);
            }
        });
    }, { rootMargin: "100px" });
    imgs.forEach(img => observer.observe(img));
}

function lazyLoadVideos(selector) {
    const videos = document.querySelectorAll(selector);
    const observer = new IntersectionObserver((entries, obs) => {
        entries.forEach(entry => {
            if(entry.isIntersecting) {
                const video = entry.target;
                const source = video.querySelector('source');
                source.src = source.dataset.src;
                video.load();
                obs.unobserve(video);
            }
        });
    }, { rootMargin: "100px" });
    videos.forEach(video => observer.observe(video));
}

/* =========================
   Ø§ÛŒÙ†Ø³ØªØ§Ú¯Ø±Ø§Ù… API
========================= */
const instaConfig = {
    accessToken: "YOUR_INSTAGRAM_GRAPH_API_TOKEN",
    userId: "YOUR_INSTAGRAM_USER_ID",
    limit: 6,
    next: null
};

async function loadInstagram(limit = instaConfig.limit) {
    try {
        let data = getCache('instagramData');
        if(!data) {
            let url = `https://graph.instagram.com/${instaConfig.userId}/media?fields=id,caption,media_url,permalink&access_token=${instaConfig.accessToken}&limit=${limit}`;
            if(instaConfig.next) url = instaConfig.next;
            const res = await fetch(url);
            data = await res.json();
            setCache('instagramData', data);
        }

        const carousel = document.querySelector(".instagram-carousel");
        const grid = document.querySelector(".instagram-gallery");
        const fragCarousel = document.createDocumentFragment();
        const fragGrid = document.createDocumentFragment();

        data.data.forEach(item => {
            const captionFa = ((item.caption || "").slice(0,80)+"â€¦") + " - Ù¾Ø³Øª Ø§ÛŒÙ†Ø³ØªØ§Ú¯Ø±Ø§Ù… Ø§Ø¨ÙˆØ§Ù„ÙØ¶Ù„ Ø´Ù‡Ø§Ø¨";
            const captionRu = ((item.caption || "").slice(0,80)+"â€¦") + " - Instagram Ğ¿Ğ¾ÑÑ‚ ĞĞ±ÑƒĞ»ÑŒÑ„Ğ°Ğ·Ğ»Ñ Ğ¨Ğ°Ñ…Ğ°Ğ±Ğ°";

            const tempSlide = document.createElement('div');
            tempSlide.innerHTML = createSlideCard(item.permalink, item.media_url, captionFa, captionRu, "ğŸ“¸");
            fragCarousel.appendChild(tempSlide.firstElementChild);

            const tempCard = document.createElement('div');
            tempCard.innerHTML = createGridCard(item.permalink, item.media_url, captionFa, captionRu);
            fragGrid.appendChild(tempCard.firstElementChild);
        });

        carousel.appendChild(fragCarousel);
        grid.appendChild(fragGrid);

        lazyLoad('img.lazy');
        instaConfig.next = data.paging?.next || null;
        instaSwiper.update();

        globalInstaData = data; // Ø°Ø®ÛŒØ±Ù‡ Ø¨Ø±Ø§ÛŒ JSON-LD
        generateJSONLD(globalInstaData, globalYTData);

    } catch (err) {
        console.error("Instagram API Error:", err);
    }
}

/* =========================
   YouTube API
========================= */
const ytConfig = {
    apiKey: "YOUR_YOUTUBE_API_KEY",
    channelId: "YOUR_YOUTUBE_CHANNEL_ID",
    limit: 6
};

async function loadYouTube(pageToken = "") {
    try {
        let data = getCache('youtubeData');
        if(!data) {
            let url = `https://www.googleapis.com/youtube/v3/search?key=${ytConfig.apiKey}&channelId=${ytConfig.channelId}&part=snippet&order=date&maxResults=${ytConfig.limit}`;
            if(pageToken) url += "&pageToken=" + pageToken;
            const res = await fetch(url);
            data = await res.json();
            setCache('youtubeData', data);
        }

        const carousel = document.querySelector(".youtube-carousel");
        const grid = document.querySelector(".youtube-gallery");
        const fragCarousel = document.createDocumentFragment();
        const fragGrid = document.createDocumentFragment();

        data.items.forEach(item => {
            const thumb = item.snippet.thumbnails.high.url;
            const titleFa = item.snippet.title.slice(0,80) + "â€¦ - ÙˆÛŒØ¯ÛŒÙˆ ÛŒÙˆØªÛŒÙˆØ¨ Ø§Ø¨ÙˆØ§Ù„ÙØ¶Ù„ Ø´Ù‡Ø§Ø¨";
            const titleRu = item.snippet.title.slice(0,80) + "â€¦ - Ğ²Ğ¸Ğ´ĞµĞ¾ YouTube ĞĞ±ÑƒĞ»ÑŒÑ„Ğ°Ğ·Ğ»Ñ Ğ¨Ğ°Ñ…Ğ°Ğ±Ğ°";
            const link = `https://www.youtube.com/watch?v=${item.id.videoId}`;

            const tempSlide = document.createElement('div');
            tempSlide.innerHTML = createSlideCard(link, thumb, titleFa, titleRu, "ğŸ¬");
            fragCarousel.appendChild(tempSlide.firstElementChild);

            const tempCard = document.createElement('div');
            tempCard.innerHTML = createGridCard(link, thumb, titleFa, titleRu);
            fragGrid.appendChild(tempCard.firstElementChild);
        });

        carousel.appendChild(fragCarousel);
        grid.appendChild(fragGrid);

        lazyLoad('img.lazy');
        ytSwiper.update();

        globalYTData = data; // Ø°Ø®ÛŒØ±Ù‡ Ø¨Ø±Ø§ÛŒ JSON-LD
        generateJSONLD(globalInstaData, globalYTData);

    } catch (err) {
        console.error("YouTube API Error:", err);
    }
}

/* =========================
   JSON-LD Ø§ØªÙˆÙ…Ø§ØªÛŒÚ© Ø¯Ùˆ Ø²Ø¨Ø§Ù†Ù‡
========================= */
function generateJSONLD(instaData, ytData) {
    const person = {
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Ø§Ø¨ÙˆØ§Ù„ÙØ¶Ù„ Ø´Ù‡Ø§Ø¨",
        "alternateName": "ĞĞ±ÑƒĞ»ÑŒÑ„Ğ°Ğ·Ğ»ÑŒ Ğ¨Ğ°Ñ…Ğ°Ğ±",
        "url": "https://ivan.omgru.ir/",
        "sameAs": [
            "https://www.instagram.com/ivan.omgru/",
            "https://www.youtube.com/@ivanomgru"
        ],
        "image": "https://media.ivan.omgru.ir/images/profile.jpg",
        "jobTitle": "Ù…Ø¯Ø±Ø³ Ø²Ø¨Ø§Ù† Ø±ÙˆØ³ÛŒØŒ Ø·Ø±Ø§Ø­ Ø³Ø§ÛŒØªØŒ ØªÙˆÙ„ÛŒØ¯Ú©Ù†Ù†Ø¯Ù‡ Ù…Ø­ØªÙˆØ§",
        "description": "Ø¢Ø®Ø±ÛŒÙ† Ù¾Ø³Øªâ€ŒÙ‡Ø§ÛŒ Ø§ÛŒÙ†Ø³ØªØ§Ú¯Ø±Ø§Ù… Ùˆ ÙˆÛŒØ¯ÛŒÙˆÙ‡Ø§ÛŒ ÛŒÙˆØªÛŒÙˆØ¨ Ø§Ø¨ÙˆØ§Ù„ÙØ¶Ù„ Ø´Ù‡Ø§Ø¨ | ivan.omgru | Ğ˜Ğ²Ğ°Ğ½ Ğ¾Ğ¼Ğ³Ñ€Ñƒ"
    };

    const website = {
        "@context": "https://schema.org",
        "@type": "WebSite",
        "name": "ivan.omgru | Ğ˜Ğ²Ğ°Ğ½ Ğ¾Ğ¼Ğ³Ñ€Ñƒ",
        "url": "https://ivan.omgru.ir/",
        "publisher": person
    };

    const instagramPosts = (instaData?.data || []).map(item => ({
        "@type": "ImageObject",
        "name": (item.caption?.slice(0,80) || "") + "â€¦ - Ù¾Ø³Øª Ø§ÛŒÙ†Ø³ØªØ§Ú¯Ø±Ø§Ù… Ø§Ø¨ÙˆØ§Ù„ÙØ¶Ù„ Ø´Ù‡Ø§Ø¨",
        "url": item.permalink,
        "contentUrl": item.media_url
    }));

    const youtubeVideos = (ytData?.items || []).map(item => ({
        "@type": "VideoObject",
        "name": item.snippet.title.slice(0,80) + "â€¦ - ÙˆÛŒØ¯ÛŒÙˆ ÛŒÙˆØªÛŒÙˆØ¨ Ø§Ø¨ÙˆØ§Ù„ÙØ¶Ù„ Ø´Ù‡Ø§Ø¨",
        "url": `https://www.youtube.com/watch?v=${item.id.videoId}`,
        "thumbnailUrl": item.snippet.thumbnails.high.url,
        "uploadDate": item.snippet.publishedAt,
        "publisher": person
    }));

    const jsonLD = [person, website, ...instagramPosts, ...youtubeVideos];

    // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø¨Ù‡ head Ø¨Ù‡ ØµÙˆØ±Øª Ø¯Ø§ÛŒÙ†Ø§Ù…ÛŒÚ©
    if (!document.head.querySelector('script[type="application/ld+json"]')) {
        const scriptTag = document.createElement('script');
        scriptTag.type = 'application/ld+json';
        scriptTag.text = JSON.stringify(jsonLD, null, 2);
        document.head.appendChild(scriptTag);
    } else {
        // Ø¨Ù‡ Ø±ÙˆØ² Ø±Ø³Ø§Ù†ÛŒ Ø§Ú¯Ø± Ù‚Ø¨Ù„Ø§Ù‹ ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø´ØªÙ‡
        const existing = document.head.querySelector('script[type="application/ld+json"]');
        existing.text = JSON.stringify(jsonLD, null, 2);
    }
}

/* =========================
   Ø§Ø¬Ø±Ø§ Ø¯Ø± DOMContentLoaded
========================= */
document.addEventListener('DOMContentLoaded', () => {
    loadInstagram();
    loadYouTube();
    lazyLoadVideos('video.lazy-video');
});
// =========================
// Ø¯Ø±ÛŒØ§ÙØª Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ Ø§Ø² Ø³Ø±ÙˆØ± Ø§Ù…Ù†
// =========================
async function loadInstagram() {
    const res = await fetch('/api/instagram');
    const data = await res.json();

    data.data.forEach(item => {
        const img = document.createElement('img');
        img.src = item.media_url;
        img.alt = item.caption || "Ù¾Ø³Øª Ø§ÛŒÙ†Ø³ØªØ§Ú¯Ø±Ø§Ù… Ø§Ø¨ÙˆØ§Ù„ÙØ¶Ù„ Ø´Ù‡Ø§Ø¨";
        document.querySelector('.instagram-gallery').appendChild(img);

        // JSON-LD Ø¨Ø±Ø§ÛŒ Ú¯ÙˆÚ¯Ù„
        const script = document.createElement('script');
        script.type = "application/ld+json";
        script.textContent = JSON.stringify({
            "@context": "https://schema.org",
            "@type": "ImageObject",
            "contentUrl": item.media_url,
            "description": item.caption,
            "author": "ivan.omgru"
        });
        document.head.appendChild(script);
    });
}

async function loadYouTube() {
    const res = await fetch('/api/youtube');
    const data = await res.json();

    data.items.forEach(item => {
        const videoLink = `https://www.youtube.com/watch?v=${item.id.videoId}`;
        const thumb = item.snippet.thumbnails.high.url;

        const img = document.createElement('img');
        img.src = thumb;
        img.alt = item.snippet.title || "ÙˆÛŒØ¯ÛŒÙˆ ÛŒÙˆØªÛŒÙˆØ¨ Ø§Ø¨ÙˆØ§Ù„ÙØ¶Ù„ Ø´Ù‡Ø§Ø¨";
        document.querySelector('.youtube-gallery').appendChild(img);

        // JSON-LD Ø¨Ø±Ø§ÛŒ Ú¯ÙˆÚ¯Ù„
        const script = document.createElement('script');
        script.type = "application/ld+json";
        script.textContent = JSON.stringify({
            "@context": "https://schema.org",
            "@type": "VideoObject",
            "name": item.snippet.title,
            "thumbnailUrl": thumb,
            "uploadDate": item.snippet.publishedAt,
            "contentUrl": videoLink,
            "author": "ivan.omgru"
        });
        document.head.appendChild(script);
    });
}

// Ø§Ø¬Ø±Ø§
document.addEventListener('DOMContentLoaded', () => {
    loadInstagram();
    loadYouTube();
});
</script>
</body>
</html>
